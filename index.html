<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terra Dominus</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; margin: 0; padding: 20px; text-align: center; }
        .stats-card { background: #1e293b; padding: 15px; border-radius: 15px; border: 1px solid #334155; margin-bottom: 20px; }
        .rank-title { color: #38bdf8; font-weight: bold; font-size: 1.2em; }
        .map-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 20px; }
        .territory { aspect-ratio: 1; background: #334155; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 0.7em; cursor: pointer; transition: 0.3s; }
        .territory.owned { background: #0ea5e9; box-shadow: 0 0 15px #0ea5e9; border: 2px solid white; }
        .btn-buy { background: #10b981; color: white; border: none; padding: 12px 24px; border-radius: 10px; font-weight: bold; margin-top: 20px; width: 100%; }
    </style>
</head>
<body>
    <div class="stats-card">
        <div>–í–∞—à —Ç–∏—Ç—É–ª: <span id="rank" class="rank-title">–ö–†–ï–°–¢–¨–Ø–ù–ò–ù</span></div>
        <div>–ë–∞–ª–∞–Ω—Å: <span id="balance">0.00</span> USDT</div>
    </div>

    <h3>–ö–∞—Ä—Ç–∞ –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π</h3>
    <div class="map-grid" id="map">
        </div>

    <button class="btn-buy" onclick="buyTerritory()">–ó–ê–•–í–ê–¢–ò–¢–¨ –ó–ï–ú–õ–Æ (10 USDT)</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        let balance = 0;
        let ownedCount = 0;

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        const map = document.getElementById('map');
        for (let i = 1; i <= 16; i++) {
            const div = document.createElement('div');
            div.className = 'territory';
            div.innerText = '–°–µ–∫—Ç–æ—Ä ' + i;
            div.id = 'sec-' + i;
            map.appendChild(div);
        }

        function buyTerritory() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ –¥–ª—è –¥–µ–º–æ
            ownedCount++;
            const nextFree = document.querySelector('.territory:not(.owned)');
            if (nextFree) {
                nextFree.classList.add('owned');
                nextFree.innerHTML = 'üè∞';
                
                // –õ–æ–≥–∏–∫–∞ —Ä–æ—Å—Ç–∞ —Ä–∞–Ω–≥–∞
                if (ownedCount >= 3) document.getElementById('rank').innerText = '–†–´–¶–ê–†–¨';
                if (ownedCount >= 7) document.getElementById('rank').innerText = '–ë–ê–†–û–ù';
                
                tg.HapticFeedback.notificationOccurred('success');
            }
        }
    </script>
</body>
</html>
